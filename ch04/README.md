# Chapter04. 주석

> [@goo314](https://github.com/goo314), 2022-07-09

코드로 의도를 표현하지 못해, 실패를 만회하기 위해 주석을 사용한다.

## 주석은 나쁜 코드를 보완하지 못한다

- 표현력이 풍부하고 깔끔하며 주석이 거의 없는 코드가, 복잡하고 어수선하며 주석이 많이 달린 코드보다 훨씬 좋다.

## 코드로 의도를 표현하라!

- 주석으로 달려는 설명을 함수로 만들어 표현한다.

## 좋은 주석

- _법적인 주석_
  - 각 소스 파일 첫머리에 주석으로 들어가는 저작권 정보와 소유권 정보는 필요하고도 타당하다.
- _정보를 제공하는 주석_
  - 기본적인 정보를 주석으로 제공하면 편리하다.
  - 이왕이면 함수 이름을 바꾸거나 클래스를 만들면 주석이 필요 없어진다.
- _의도를 설명하는 주석_
  - 주석은 구현을 이해하게 도와주는 선을 넘어 결정에 딸린 의도까지 설명한다.
- _의미를 명료하게 밝히는 주석_
  - 모호한 인수나 반환값은 그 의미를 읽기 좋게 표현하면 이해하기 쉬워진다.
- _결과를 경고하는 주석_
  - 다른 프로그래머에게 결과를 경고할 목적으로 주석을 사용한다.
- _TODO 주석_
  - 앞으로의 할 일을 `//TODO` 주석으로 남겨두면 편하다.
  - 프로그래머가 필요하다 여기지만 당장 구현하기 어려운 업무를 기술한다.
- _중요성을 강조하는 주석_
  - 자칫 대수롭지 않다고 여겨질 무언가의 중요성을 강조하기 위해서 주석을 사용한다.
- 공개 API에서 Javadocs
  - 설명이 잘 된 공개 API는 유용하고 만족스럽다.
  - 표준 자바 라이브러리에서 사용한 Javadocs

## 나쁜 주석

- _주절거리는 주석_
  - 주석을 달기로 결정했다면 충분한 시간을 들여 최고의 주석을 달도록 노력한다.
  - 이해가 안되어 다른 모듈까지 찾아야 하는 주석은 독자와 제대로 소통하지 못하는 주석이다.
- _같은 이야기를 중복하는 주석_
  - 같은 코드 내용을 그대로 중복하면 코드보다 주석을 읽는 시간이 더 오래 걸린다.
- _오해할 여지가 있는 주석_
  - `this.closed`가 `true`로 변하는 순간에 메서드는 반환되지 않는다.
  ```tsx
  // this.closed가 true일 때 반환되는 유틸리티 메서드다.
  // 타임아웃에 도달하면 예외를 던진다.
  function waitForClose: void (timeoutMillis: float){
      if(!closed){
          wait(timeoutMills);
          if(!closed)
              throw new Exception()
      }
  }
  ```
- _의무적으로 다는 주석_
  - 모든 변수에 주석을 달아야 한다는 규칙은 코드를 복잡하게 만들며, 거짓말을 퍼뜨리고, 혼동과 무질서를 초래한다.
- _이력을 기록하는 주석_
  - 모듈을 편집할 때마다 모듈 첫 머리에 주석을 추가한다.
  - 당시 소스코드 관리 시스템이 없었고, 이제는 혼란만 가중한다.
- _있으나 마나 한 주석_
  - 너무 당연한 사실을 언급하며 새로운 정보를 제공하지 못하는 주석이다.
  - 분풀이를 하는 주석
    - `//이게 뭐야!`
- _무서운 잡음_
- _함수나 변수로 표현할 수 있다면 주석을 달지 마라_
- _위치를 표시하는 주석_
  - 특정 위치를 표시하려 주석을 사용한다.
    - `// Actions //////////////////`
    - 뒷부분에 슬래시(/)로 이어지는 잡음은 제거하는 편이 좋다.
  - 배너 아래 특정 기능을 모아 놓으면 유용한 경우도 있지만, 아주 드물게 사용하는 편이 좋다.
- _닫는 괄호에 다는 주석_
  - 닫는 괄호에 주석을 다는 대신에 함수를 줄이려 시도한다.
- _공로를 돌리거나 저자를 표시하는 주석_
  - 부정확하고 쓸모 없는 정보로 변하기 쉽다.
    - `//릭이 추가함`
    - 소스 코드 관리 시스템에 저장하는 편이 좋다.
- _주석으로 처리한 코드_
  - 소스 코드 관리 시스템이 코드를 기억해주므로, 주석을 처리하지 말고 코드를 삭제한다.
- _HTML 주석_
  - 혐오 그 자체다.
- _전역 정보_
  - 주석을 달아야 한다면 근처에 있는 코드만 기술한다.
  - 바로 아래 함수가 아니라 시스템 어딘가에 있는 다른 함수를 설명한다 👎
- _너무 많은 정보_
  - 흥미로운 역사나 관련 없는 정보를 장황하게 늘어 놓지 않는다.
- _모호한 관계_
  - 주석과 주석이 설명하는 코드는 둘 사이 관계가 명백해야 한다.
- _함수 헤더_
  - 짧은 함수가 주석으로 헤더를 추가한 함수보다 훨씬 좋다.
- _비공개 코드에서 Javadocs_
  - 공개하지 않을 코드라면 유용하지 않을 뿐만 아니라 Javadocs 주석이 요구하는 형식으로 코드가 보기 싫고 산만해진다.
